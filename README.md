# NPC ChatLab

NPC μΊλ¦­ν„°μ™€μ λ€ν™”λ¥Ό ν…μ¤νΈν•κ³  ν’μ§μ„ ν‰κ°€ν•λ” AI μ±—λ΄‡ μ‹¤ν— ν”λ«νΌμ…λ‹λ‹¤. Google Gemini AIλ¥Ό ν™μ©ν•μ—¬ λ‹¤μ–‘ν• νλ¥΄μ†λ‚λ¥Ό κ°€μ§„ NPCμ™€ λ€ν™”ν•  μ μμµλ‹λ‹¤.

## μ£Όμ” κΈ°λ¥

- π­ **μΊλ¦­ν„° κ΄€λ¦¬**: λ‹¤μ–‘ν• νλ¥΄μ†λ‚μ™€ ν†¤μ„ κ°€μ§„ NPC μΊλ¦­ν„° μƒμ„±
- π“ **ν”„λ΅¬ν”„νΈ μ—”μ§€λ‹μ–΄λ§**: μ‹μ¤ν… μ§€μΉ¨κ³Ό ν…ν”λ¦Ώμ„ ν†µν• A/B ν…μ¤νΈ
- π’¬ **λ€ν™” μ„Έμ…**: μ»¨ν…μ¤νΈλ¥Ό μ μ§€ν•λ” λ©€ν‹°ν„΄ λ€ν™” (μµκ·Ό 10κ° λ©”μ‹μ§€ νμ¤ν† λ¦¬)
- π“ **ν’μ§ λ€μ‹λ³΄λ“**: μ‘λ‹µ κΈΈμ΄, κΈμ§€μ–΄ μ‚¬μ©, ν†¤ μΌμΉμ¨ λ“± μλ™ ν‰κ°€
- β­ **ν”Όλ“λ°± μ‹μ¤ν…**: μ‘λ‹µμ— λ€ν• ν‰κ°€ λ° μ½”λ©νΈ μ €μ¥
- π“¥ **CSV λ‚΄λ³΄λ‚΄κΈ°**: μ„Έμ…λ³„ λ€ν™” λ° ν‰κ°€ λ°μ΄ν„° λ‹¤μ΄λ΅λ“
- π”„ **λ€ν™” νμ¤ν† λ¦¬**: μ΄μ „ λ€ν™” λ‚΄μ©μ„ κΈ°μ–µν•κ³  λ§¥λ½ μλ” μ‘λ‹µ μƒμ„±

## κΈ°μ  μ¤νƒ

### Backend
- Node.js + Express
- TypeScript
- MySQL (mysql2)
- Google Generative AI (@google/generative-ai)
- Gemini 2.0 Flash Exp

### Frontend
- React + TypeScript
- Vite
- Axios

## μ„¤μΉ λ° μ‹¤ν–‰

### 1. ν™κ²½ μ„¤μ •

**μ„λ²„ ν™κ²½λ³€μ** (`server/.env`):
```env
DB_HOST=localhost
DB_USER=root
DB_PASSWORD=your_password
DB_NAME=npc_chatlab
GOOGLE_API_KEY=your_google_api_key
PORT=4000
CORS_ORIGIN=http://localhost:5173
```

### 2. λ°μ΄ν„°λ² μ΄μ¤ μ„¤μ •

```bash
# MySQL λ°μ΄ν„°λ² μ΄μ¤ μƒμ„±
mysql -u root -p < sql/schema.sql
```

### 3. μ„λ²„ μ‹¤ν–‰

```bash
cd server
npm install
npm run build
npm start
```

λλ” κ°λ° λ¨λ“:
```bash
npm run dev
```

### 4. ν΄λΌμ΄μ–ΈνΈ μ‹¤ν–‰

```bash
cd client
npm install
npm run dev
```

λΈλΌμ°μ €μ—μ„ `http://localhost:5173` μ ‘μ†

## μ‚¬μ© λ°©λ²•

1. **μΊλ¦­ν„° μƒμ„±**: μ΄λ¦„, νλ¥΄μ†λ‚, ν†¤ μ„¤μ •
2. **ν”„λ΅¬ν”„νΈ μƒμ„±**: μ‹μ¤ν… μ§€μΉ¨, μ μ € ν…ν”λ¦Ώ μ‘μ„±
3. **μ„Έμ… μ‹μ‘**: μΊλ¦­ν„°μ™€ ν”„λ΅¬ν”„νΈλ¥Ό μ„ νƒν•μ—¬ λ€ν™” μ„Έμ… μƒμ„±
4. **λ€ν™” ν…μ¤νΈ**: λ©”μ‹μ§€λ¥Ό μ…λ ¥ν•κ³  NPC μ‘λ‹µ ν™•μΈ
5. **ν’μ§ ν‰κ°€**: μλ™ λ©”νΈλ¦­μ¤μ™€ ν”Όλ“λ°±μΌλ΅ μ‘λ‹µ ν’μ§ λ¶„μ„

## ν”„λ΅μ νΈ κµ¬μ΅°

```
Ai-npc-chatlab/
β”β”€β”€ client/              # React ν”„λ΅ νΈμ—”λ“
β”‚   β”β”€β”€ src/
β”‚   β”‚   β”β”€β”€ App.tsx     # λ©”μΈ μ»΄ν¬λ„νΈ
β”‚   β”‚   β”β”€β”€ api.ts      # API ν΄λΌμ΄μ–ΈνΈ
β”‚   β”‚   β””β”€β”€ main.tsx
β”‚   β””β”€β”€ package.json
β”β”€β”€ server/              # Express λ°±μ—”λ“
β”‚   β”β”€β”€ src/
β”‚   β”‚   β”β”€β”€ index.ts    # API μ—”λ“ν¬μΈνΈ
β”‚   β”‚   β”β”€β”€ llm.ts      # Gemini AI ν†µν•©
β”‚   β”‚   β”β”€β”€ db.ts       # λ°μ΄ν„°λ² μ΄μ¤ μ—°κ²°
β”‚   β”‚   β”β”€β”€ env.ts      # ν™κ²½ λ³€μ
β”‚   β”‚   β””β”€β”€ types.ts    # TypeScript νƒ€μ…
β”‚   β””β”€β”€ package.json
β””β”€β”€ sql/
    β””β”€β”€ schema.sql      # λ°μ΄ν„°λ² μ΄μ¤ μ¤ν‚¤λ§
```

## API μ—”λ“ν¬μΈνΈ

- `GET /api/characters` - μΊλ¦­ν„° λ©λ΅
- `POST /api/characters` - μΊλ¦­ν„° μƒμ„±
- `GET /api/prompts` - ν”„λ΅¬ν”„νΈ λ©λ΅
- `POST /api/prompts` - ν”„λ΅¬ν”„νΈ μƒμ„±
- `POST /api/sessions` - μ„Έμ… μƒμ„±
- `GET /api/messages/:sessionId` - λ©”μ‹μ§€ μ΅°ν
- `POST /api/messages` - λ©”μ‹μ§€ μ „μ†΅
- `POST /api/feedback` - ν”Όλ“λ°± μ €μ¥
- `GET /api/sessions/:id/export` - CSV λ‹¤μ΄λ΅λ“

## μ„±λ¥ μµμ ν™”

- μ‘λ‹µ ν† ν° μ μ ν• (150 tokens)
- λ€ν™” νμ¤ν† λ¦¬ μ¶•μ•½ (μµκ·Ό 10κ° λ©”μ‹μ§€)
- API νƒ€μ„μ•„μ›ƒ μ„¤μ • (10μ΄)
- Gemini 2.0 Flash Exp λ¨λΈ μ‚¬μ© (λΉ λ¥Έ μ‘λ‹µ)

## λΌμ΄μ„ μ¤

MIT

## κ°λ°μ

AI-NPC-ChatLab ν”„λ΅μ νΈ
